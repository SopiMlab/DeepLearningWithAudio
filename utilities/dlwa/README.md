# dlwa

`dlwa.py` is a script that aims to simplify setup and usage of the models studied in the Deep Learning with Audio course by automating as much as possible and integrating some common workarounds for problems. It does not expose all the functionality of the underlying tools, but prints out the commands it executes so that the user may understand what is happening underneath and dive deeper if desired.

`dlwa.py` currently only supports Linux. It includes some special logic to deal with the environment on Aalto systems (mainly the Paniikki computers), but will in theory run on any Linux system with Conda and a CUDA-capable GPU.

## Basics

First, enter the `dlwa` folder containing the script:

```
cd DeepLearningWithAudio/utilities/dlwa
```

`dlwa.py` commands have the form:

```
./dlwa.py MODEL COMMAND [ARGUMENTS ...]
```

The available commands differ for each model. You can always pass the `-h` or `--help` argument to get some basic help about a command, for example:

```
./dlwa.py ddsp train -h
```

```
usage: dlwa.py ddsp train [-h] --dataset_name DATASET_NAME --model_name MODEL_NAME [--custom] ...

positional arguments:
  extra_args

optional arguments:
  -h, --help            show this help message and exit
  --dataset_name DATASET_NAME
  --model_name MODEL_NAME
  --custom
```

## Folder structure

`dlwa.py` comes with a particular folder structure for working with the deep learning models. Here is an explanation of the various folders:

- `conda-env-specs`: Contains `.yml` files that specify which Conda and Pip packages are needed to create the environment for each model.
- `datasets`: Will contain dataset files for some models, generated from audio.
- `inputs`: Will contain input files, usually audio in `.wav` format.
- `lib`: Contains most of the code that makes `dlwa.py` work.
- `misc`: Contains miscellaneous configuration files.
- `models`: Will contain trained models to be used for generating audio.
- `outputs`: Will contains output files generated by some models.
- `repos`: Will contain cloned repositories of the various codebases we use, such as `magenta`.

## Usage

### DDSP

#### Setup

```
./dlwa.py ddsp setup
```

Sets up a Conda environment for DDSP, installing all the necessary packages.

TODO: document missing sections

#### Make dataset

### GANSynth

### NSynth

### SampleRNN
